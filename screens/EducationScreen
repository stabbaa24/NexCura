// EducationScreen.tsx
import React, { useState } from 'react';
import { 
    View,
    Text,
    StyleSheet,
    ScrollView,
    TouchableOpacity,
    Image,
} from 'react-native';
import Icon from 'react-native-vector-icons/MaterialCommunityIcons';

const EducationScreen = () => {
  const [selectedTopic, setSelectedTopic] = useState(null);

  const educationTopics = [
    {
      id: 1,
      title: "Les Bases du Diabète",
      description: "Comprendre les fondamentaux de la maladie",
      icon: "medical-bag", // Changé de "diabetes" à "medical-bag"
      content: [
        // ... contenu inchangé ...
      ]
    },
    // ... autres topics inchangés ...
  ];

  const renderTopicContent = (topic) => (
    <View style={styles.contentContainer}>
      <TouchableOpacity
        style={styles.backButton}
        onPress={() => setSelectedTopic(null)}
      >
        <Icon name="arrow-left" size={24} color="#4CAF50" />
        <Text style={styles.backText}>Retour</Text>
      </TouchableOpacity>

      {/* Reste du contenu inchangé */}
    </View>
  );

  return (
    <View style={styles.container}>
      <ScrollView>
        {!selectedTopic ? (
          <>
            <View style={styles.header}>
              <Text style={styles.headerTitle}>Éducation Diabète</Text>
              <Text style={styles.headerSubtitle}>
                Apprenez à mieux vivre avec votre diabète
              </Text>
            </View>

            {educationTopics.map((topic) => (
              <TouchableOpacity
                key={topic.id}
                style={styles.topicCard}
                onPress={() => setSelectedTopic(topic)}
              >
                <View style={styles.topicIcon}>
                  <Icon name={topic.icon} size={32} color="#4CAF50" />
                </View>
                <View style={styles.topicContent}>
                  <Text style={styles.topicTitle}>{topic.title}</Text>
                  <Text style={styles.topicDescription}>{topic.description}</Text>
                </View>
                <Icon name="chevron-right" size={24} color="#666" />
              </TouchableOpacity>
            ))}

            <TouchableOpacity style={styles.quizCard}>
              <Icon name="help-circle" size={32} color="#4CAF50" />
              <Text style={styles.quizTitle}>Quiz du Jour</Text>
              <Text style={styles.quizDescription}>
                Testez vos connaissances sur le diabète
              </Text>
            </TouchableOpacity>
          </>
        ) : (
          renderTopicContent(selectedTopic)
        )}
      </ScrollView>

      {/* Mascotte animée - Commentée car l'image n'est pas disponible */}
      {/* <View style={styles.mascotContainer}>
        <Image
          source={require('../assets/mascot.gif')}
          style={styles.mascotGif}
        />
      </View> */}
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#f5f5f5',
  },
  // ... autres styles inchangés ...
});

export default EducationScreen;